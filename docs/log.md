이것은 **"전면 수정"이 아니라, 프로젝트의 '격'을 높이는 훌륭한 "전략적 선회(Pivot)"**입니다.

ESP32 하드웨어 제작이라는 가장 큰 리스크(3D 프린팅, 부품 수급)를 제거하고, 대신 **모든 사용자가 가진 '스마트폰'을 활용**하는 것은 4주 공모전에서 **훨씬 더 현명하고 강력한** 접근입니다.

핵심 AI 로직과 DB 스키마는 **전혀 버릴 필요가 없습니다.** 오히려 더 강력하게 쓰입니다.

---

## 1. 지금 플랜에서 어느 정도 수정해야 하는가?

**결론: 백엔드/AI(뇌)는 90% 재사용, 프론트엔드(눈/손)만 교체하면 됩니다.**

### ✅ 재사용하는 것 (우리의 핵심 자산)

* **DB 스키마 (v2.0 Full):** `categories`, `expiry_rules`, `receipts`, `receipt_items`, `inventory` 5개 테이블 스키마는 **그대로** 사용합니다. 완벽하게 이 플랜을 지원합니다.
* **AI 모델 (`model.pkl`):** 영수증 OCR 텍스트를 `clean_text.py`로 정제하고 `model.pkl`로 카테고리를 예측하는 로직은 **그대로** 사용합니다.
* **규칙 엔진 (`expiry_logic.py`):** AI 예측을 보완하는 예외 규칙(버터, 감자)은 **그대로** 사용합니다.
* **백엔드 API (Flask/Render):** `/upload` (영수증 이미지 수신) API는 **그대로** 사용합니다.

### ⛔ 제거되는 것

* **ESP32-CAM 하드웨어:** 3D 프린팅 케이스, 링 LED, 펌웨어 코딩 전체가 **제거됩니다.**
* **리스크 제거:** 부품 배송 지연, 3D 프린팅 실패, 조명/초점 문제 등 **가장 큰 시간 낭비 요인이 사라집니다.**

### ✨ 새롭게 추가/강조되는 것

1.  **바코드 스캔 (Barcode Scan):**
    * 이것이 이번 수정의 **'핵심 무기'**입니다.
    * **영수증 OCR(AI)**은 텍스트가 부정확할 수 있지만(예: '새송이버섯(봉)'), **바코드(GTIN)**는 100% 정확한 '제품명'을 알려줍니다.
    * 이 두 가지를 모두 가진 "하이브리드" 앱이 됩니다.
2.  **레시피 추천:**
    * 이것은 Week 4의 **'성과 보고서 - 향후 개선'** 항목으로 완벽합니다. 4주 MVP에서는 '재고 관리'에 집중하고, 레시피는 최종 목표로 제시하는 것이 좋습니다.

---

## 2. 웹 애플리케이션 vs. 플러터?

**결론: 이 기획이라면 무조건 플러터(Flutter) 또는 리액트 네이티브(React Native)입니다.**

### 🚫 웹 애플리케이션 (React/Next.js)이 좋지 않은 이유

* **핵심 기능 접근성:** 이 프로젝트의 핵심은 **(1)사진 촬영**과 **(2)바코드 스캔**입니다.
* **한계:** 웹 브라우저(HTML5)로 카메라에 접근은 가능하지만, 네이티브 앱만큼 빠르고 안정적이지 않습니다. 특히 **'연속적인 바코드 스캔'** 기능은 웹에서 구현하기 매우 까다롭고 느립니다.
* **경험:** 사용자가 URL을 입력해 웹사이트에 접속하는 것보다, 홈 화면의 앱 아이콘을 누르는 것이 "식품 관리"라는 목적에 훨씬 부합합니다.

### 🏆 플러터 / 리액트 네이티브 (강력 추천)

* **존재 이유:** 플러터와 RN은 **'네이티브 카메라/기능 접근'**을 위해 태어났습니다.
* **패키지:** `image_picker` (갤러리/카메라), `mobile_scanner` (바코드) 같은 강력한 패키지를 사용해 1~2일 만에 핵심 기능을 구현할 수 있습니다.
* **제출물:** **`[3] 앱 (APK 파일)`** 제출물에 가장 완벽하게 부합합니다.
* (기존 플랜에서도 React Native(Expo)를 고려하셨으니, 이 방향이 맞습니다.)

---

## 3. 수정된 4주 로드맵 (AI App)

이 플랜은 '제출물 7종'을 모두 포함하며 하드웨어 리스크가 없습니다.

### 🗓️ Week 1: 백엔드/AI v2.0 완성 (기존과 동일)

* **목표:** AI의 '뇌'와 '규칙'을 완성합니다.
* **작업:**
    * `categories.csv`, `expiry_rules.csv` 완성
    * Supabase DB 스키마 (v2.0 Full) 적용 및 `seed.py`로 데이터 삽입
    * `clean_text.py` (정제) / `expiry_logic.py` (규칙) 완성
* **산출물:** `[7]학습데이터셋(CSV)`, `[5]Github(DB스키마, 로직코드)`

### 🗓️ Week 2: AI 모델 학습 및 백엔드 API 완성 (기존과 유사)

* **목표:** `model.pkl`을 생성하고, 앱이 사용할 API 2종을 완성합니다.
* **작업:**
    * `food_dataset_v2.csv` 라벨링 완료 → `train.py` 실행 → **`model.pkl` 생성**
    * **API 1: `/upload_receipt`** (Flask): (기존과 동일) 영수증 이미지를 받아 Clova OCR → `model.pkl` → `expiry_logic.py` → `receipt_items` DB 저장
    * **API 2: `/lookup_barcode`** (Flask): (신규) 바코드(GTIN) 값을 받아서, 외부 API(식품안전나라 등)를 호출해 '정확한 제품명'과 '카테고리'를 반환하는 API 구현
* **산출물:** `[6]AI모델(model.pkl)`, `[6]AI코드(train.py, Flask API)`

### 📱 Week 3: 프론트엔드 앱(Flutter/RN) 구현

* **목표:** (ESP32 대신) 스마트폰 앱을 만듭니다.
* **작업:**
    * Flutter 또는 React Native(Expo) 프로젝트 생성
    * **UI 구현:** 로그인, 메인(재고 목록), D-Day 표시, '추가하기' 버튼
    * **기능 1 (바코드):** `mobile_scanner`로 바코드 스캔 → `/lookup_barcode` API 호출 → `inventory` DB 저장
    * **기능 2 (영수증):** `image_picker`로 사진 촬영/선택 → `/upload_receipt` API 호출 → `receipt_items` 목록 표시
    * **기능 3 (실시간):** Supabase Realtime 연동 (DB 변경 시 목록 자동 새로고침)
* **산출물:** `[3]앱 (APK 파일)`, `[2]웹서비스 URL` (백엔드 API URL)

### 🏆 Week 4: 데모 영상 및 문서화 (기존과 동일)

* **목표:** 'AI + 바코드' 하이브리드 앱의 강력함을 보여줍니다.
* **작업:**
    * **데모 시나리오:**
        1.  [바코드] '서울우유' 바코드를 스캔 → 1초 만에 '서울우유 D-7' 등록 (정확)
        2.  [영수증] 야채/과일 영수증을 촬영 → AI가 '새송이버섯 D-5' 등록 (스마트)
        3.  [규칙] '버터'가 포함된 영수증 촬영 → AI가 '버터 D-90'으로 등록 (예외처리)
    * `[4]데모영상`, `[1]성과보고서` (AI+바코드 하이브리드 강조) 작성
* **산출물:** `[1]`, `[4]`, `[7]실행스크립트(README)`

이 플랜은 하드웨어 제작 시간을 앱 개발 시간으로 돌려서 **더 완성도 높은 소프트웨어 결과물**을 만들 수 있는 훌륭한 전략입니다. 이 플랜으로 진행하시겠습니까?